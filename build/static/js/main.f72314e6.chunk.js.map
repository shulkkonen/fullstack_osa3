{"version":3,"sources":["services/Notes.js","components/PersonForm.js","components/Notification.js","components/Persons.js","components/App.js","index.js"],"names":["baseUrl","Notes","axios","get","then","response","data","newObject","post","id","delete","PersonForm","_ref","addName","newName","handleNameChange","newNumber","handleNumberChange","react_default","a","createElement","onSubmit","value","onChange","type","Notification","message","className","Persons","persons","removePerson","map","person","key","name","number","onClick","event","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","notifMessage","setNotifMessage","useEffect","initialNotes","components_Notification","components_PersonForm","preventDefault","i","forEach","element","findDuplicate","alert","concat","returnedNote","setTimeout","target","components_Persons","find","window","confirm","filter","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.f72314e6.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = \"http://localhost:3001/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(baseUrl + \"/\" + id);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  remove,\r\n  update\r\n};\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  addName,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange\r\n}) => {\r\n  return (\r\n    <form onSubmit={addName}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className=\"notif\">{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React from \"react\";\r\n\r\nconst Persons = ({ persons, removePerson }) => {\r\n  return persons.map(person => (\r\n    <div key={person.name}>\r\n      {person.name} {person.number}{\" \"}\r\n      <button onClick={event => removePerson(person.id)}>delete</button>\r\n    </div>\r\n  ));\r\n};\r\n\r\nexport default Persons;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Notes from \"../services/Notes\";\r\nimport PersonForm from \"./PersonForm\";\r\nimport Notification from \"./Notification\";\r\nimport Persons from \"./Persons\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [notifMessage, setNotifMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    Notes.getAll().then(initialNotes => {\r\n      setPersons(initialNotes);\r\n    });\r\n  }, []);\r\n\r\n  const findDuplicate = () => {\r\n    let i = false;\r\n    persons.forEach(element => {\r\n      if (element.name === newName) {\r\n        i = true;\r\n      }\r\n    });\r\n    return i;\r\n  };\r\n\r\n  const removePerson = name => {\r\n    const element = persons.find(element => element.id === name)\r\n    if (window.confirm(`Remove ${element.name}?`)) {\r\n      Notes.remove(name);\r\n      setPersons(persons.filter(person => person.id !== name));\r\n      setNotifMessage(`Removed ${element.name}`);\r\n      setTimeout(() => {\r\n        setNotifMessage(null);\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  const addName = event => {\r\n    event.preventDefault();\r\n    if (findDuplicate()) {\r\n      alert(`${newName} is already added to phonebook`);\r\n      setNewName(\"\");\r\n      setNewNumber(\"\");\r\n    } else {\r\n      const noteObject = {\r\n        name: newName,\r\n        number: newNumber,\r\n        id: newName\r\n      };\r\n      Notes.create(noteObject).then(returnedNote => {\r\n        setPersons(persons.concat(returnedNote));\r\n        setNotifMessage(\"Added \" + returnedNote.name);\r\n        setTimeout(() => {\r\n          setNotifMessage(null);\r\n        }, 3000);\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleNameChange = event => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = event => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notifMessage} />\r\n      <PersonForm\r\n        addName={addName}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <div>\r\n        <Persons persons={persons} removePerson={removePerson} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}